# 设计模式

## 概念

 软件设计模式（Software Design Pattern），又称设计模式 。 它描述了在软件设计过程中的一些`不断重复发生`的`问题`，以及该问题的`解决方案`。 

 它是解决**特定问题**的一系列**套路** ， 是前辈们的**代码设计**经验的**总结** 。

 **其目的是为了提高代码的可重用性、代码的可读性和代码的可靠性。** 

## 基本要素

 最关键的元素包括以下 4 个主要部分 ：

1. 模式名称  PatternName

     每一个模式都有自己的名字，有助于我们理解和记忆该模式 。

2. 问题  Problem 

    描述了该模式的应用环境，即何时使用该模式。

3. 解决方案  Solution 

    设计的组成成分、它们之间的相互关系及各自的职责和协作方式 

4. 效果  Consequence 

    模式的应用效果以及使用该模式应该权衡的问题，即模式的优缺点 

## 如何正确使用

 设计模式不是为每个人准备的，而是基于业务来选择设计模式，需要时就能想到它。 

 要明白一点，技术永远为业务服务，技术只是满足业务需要的一个工具。我们需要掌握每种设计模式的应用场景、特征、优缺点，以及每种设计模式的关联关系，这样就能够很好地满足日常业务的需要。 

 不能为了使用设计模式而去做架构，而是有了做架构的需求后，发现它符合某一类设计模式的结构，在将两者结合。 

## 前端常用的七种设计模式

### 单例模式

 单例模式可能是设计模式里面最简单的模式了，虽然简单，但在我们日常生活和编程中却经常接触到 。

 **单例模式** （Singleton Pattern）又称为单体模式，***保证一个类只有一个实例，并提供一个访问它的全局访问点*** 。 也就是说，当再次创建时，应该得到与第一次创建完全相同的对象。 

#### 你曾经遇见过的单例模式

还记得那句让人泪奔的话嘛？他是谁的儿子,谁的丈夫,又会是谁的父亲？无论你如何称呼他，他永远只有一个。

当我们在电脑上玩经营类的游戏，经过一番眼花缭乱的骚操作好不容易走上正轨，夜深了我们去休息，第二天打开电脑，发现要从头玩，立马就把电脑扔窗外了，所以一般希望从前一天的进度接着打，这里就用到了存档。每次玩这游戏的时候，我们都希望拿到`同一个存档`接着玩，这就是属于单例模式的一个实例。 

编程中也有很多对象我们只需要唯一一个，比如数据库连接、浏览器中的 window/document 等，如果创建多个实例，会带来资源耗费严重，或访问行为不一致等情况。 

 类似于数据库连接实例，我们可能频繁使用，但是创建它所需要的开销又比较大，这时只使用一个数据库连接就可以节约很多开销。一些文件的读取场景也类似，如果文件比较大，那么文件读取就是一个比较重的操作。比如这个文件是一个配置文件，那么完全可以将读取到的文件内容缓存一份，每次来读取的时候访问缓存即可，这样也可以达到节约开销的目的。



在类似场景中，这些例子有以下特点：

1. 每次访问者来访问，返回的都是**同一个实例**；
2. 如果一开始实例没有创建，那么这个特定类需要自行创建这个实例；

####  实例的代码实现

